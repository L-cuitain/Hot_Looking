<template>
  <RouterLink class="logo" to="/home"
    ><img src="@/assets/logo/热瞩logo.png" alt=""
  /></RouterLink>
  <div class="aside_menu">
    <el-menu
      default-active="1"
      class="el-menu-vertical"
      active-text-color="#ec625c"
      background-color="#fff"
      text-color="#000"
      :router="true"
      :collapse-transition="false"
      :unique-opened="true"
    >
      <el-menu-item index="/home">
        <el-icon class="aside_icon"><House /></el-icon>
        <template #title>
          <span class="menu-title">首页</span>
        </template>
      </el-menu-item>

      <el-menu-item index="/news">
        <svg
          t="1645777172337"
          class="aside_icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="5088"
        >
          <path
            d="M990.8 550.8c-2.3-24.5-24-43.3-66.1-57-2.1-49.5-12.9-97.5-32.1-143-20.8-49.2-50.6-93.4-88.6-131.4s-82.2-67.8-131.4-88.6c-51-21.6-105.1-32.5-160.9-32.5-55.8 0-109.9 10.9-160.9 32.5-49.2 20.8-93.4 50.6-131.4 88.6-38 38-67.8 82.2-88.6 131.4-21.6 51-32.5 105.1-32.5 160.9 0 18.2 1.2 36.3 3.5 54.1-18.5 9.2-33.3 18.6-43.8 28.1-16.1 14.5-23.5 30-22 46.1 3 32.2 39.8 54.8 112.2 68.5 19 35 42.8 67 71.3 95.5 38 38 82.2 67.8 131.4 88.6 51 21.6 105.1 32.5 160.9 32.5 55.8 0 109.9-10.9 160.9-32.5C721.9 871.8 766.1 842 804 804s67.8-82.2 88.6-131.4c5.5-12.9 10.2-26 14.3-39.3 59.2-25.3 86.7-52.5 83.9-82.5zM511.7 148.4c200.4 0 363.4 163 363.4 363.4 0 33.2-4.5 65.5-12.9 96.1-7.6 2.7-15.9 5.5-24.8 8.3-83.4 26.4-195.8 47.1-316.6 58.4-120.8 11.3-235.2 11.7-322 1.3-4.1-0.5-8.1-1-12-1.5-24.6-48.9-38.4-104.1-38.4-162.5 0-200.5 163-363.5 363.3-363.5z m-436 487.9c-0.3-3.1 5.9-14.1 33.6-29.3 4.5 18.9 10.3 37.4 17.4 55.6-39.8-10.9-50.6-22.6-51-26.3z m436 238.8c-124 0-233.7-62.5-299.3-157.6 38.7 3.9 81.9 5.8 128.2 5.8 57.6 0 119.9-3 183.9-9 121.7-11.4 235.4-32.2 320.9-58.8C789.6 784.6 661 875.1 511.7 875.1zM919 582.9c2.7-15.4 4.5-30.9 5.4-46.6 20.5 8.3 26.4 15.7 26.6 18.3 0.3 3.1-6 13.7-32 28.3z"
            p-id="5089"
          ></path>
          <path
            d="M254.6 470.1c1.6 0.4 3.2 0.6 4.7 0.6 9 0 17.2-6.1 19.4-15.3 3.6-15 8.8-29.6 15.3-43.6 4.7-10 0.3-21.9-9.7-26.6-10-4.7-21.9-0.3-26.6 9.7-7.6 16.3-13.6 33.5-17.9 51-2.5 10.7 4 21.5 14.8 24.2zM304.1 355.3c3.8 3.4 8.6 5.1 13.3 5.1 5.5 0 11-2.2 14.9-6.7 44.9-50.2 109.3-78.9 176.5-78.9 11 0 20-9 20-20s-9-20-20-20c-40.1 0-78.7 8.4-114.9 24.9-34.9 16-65.7 38.6-91.4 67.4-7.3 8.2-6.6 20.8 1.6 28.2z"
            p-id="5090"
          ></path>
        </svg>
        <template #title>
          <span class="menu-title">资讯</span>
        </template>
      </el-menu-item>

      <el-menu-item index="/collections">
        <el-icon class="aside_icon"><Guide /></el-icon>
        <template #title>
          <span class="menu-title">专题</span>
        </template>
      </el-menu-item>

      <el-menu-item index="/articles">
        <svg
          t="1645748721244"
          class="aside_icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="4210"
        >
          <path
            d="M778.113 95.01 250.999 95.01c-72.675 0-131.777 58.102-131.777 129.495l0 597.604c0 71.39 59.102 129.495 131.777 129.495l527.114 0c72.65 0 131.78-58.105 131.78-129.495L909.893 224.504C909.893 153.112 850.763 95.01 778.113 95.01zM849.053 822.108c0 38.45-31.815 69.72-70.94 69.72L250.999 891.828c-39.12 0-70.97-31.27-70.97-69.72L180.029 224.504c0-38.445 31.85-69.717 70.97-69.717l527.114 0c39.125 0 70.94 31.272 70.94 69.717L849.053 822.108zM299.579 356.509l227.234 0c16.795 0 30.405-13.385 30.405-29.857 0-16.535-13.61-29.887-30.405-29.887L299.579 296.765c-16.792 0-30.402 13.352-30.402 29.887C269.177 343.124 282.789 356.509 299.579 356.509zM729.533 493.434 299.579 493.434c-16.792 0-30.402 13.385-30.402 29.89s13.61 29.885 30.402 29.885l429.954 0c16.795 0 30.44-13.38 30.44-29.885S746.328 493.434 729.533 493.434zM729.533 690.103 299.579 690.103c-16.792 0-30.402 13.39-30.402 29.89 0 16.505 13.61 29.89 30.402 29.89l429.954 0c16.795 0 30.44-13.385 30.44-29.89C759.973 703.493 746.328 690.103 729.533 690.103z"
            p-id="4211"
          ></path>
        </svg>
        <template #title>
          <span class="menu-title">文章</span>
        </template>
      </el-menu-item>

      <el-menu-item index="/videos">
        <el-icon class="aside_icon"><video-play /></el-icon>
        <template #title>
          <span class="menu-title">视频</span>
        </template>
      </el-menu-item>
      <el-sub-menu index="label">
        <template #title>
          <svg
            t="1645584162547"
            class="aside_icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="1928"
          >
            <path
              d="M995.125144 559.61812l-415.998603-415.998602A52.986489 52.986489 0 0 0 541.413335 127.99957H338.847348c-3.166656-26.559911-9.286635-51.046495-17.999939-71.333094C299.734146 7.333309 271.154242 0 256.00096 0c-13.939953 0-40.439864 6.339979-61.259794 48.806503-10.473298 21.366595-17.946606 48.966502-21.573261 79.193067H53.334974a53.393154 53.393154 0 0 0-53.333154 53.333154v360.078791a52.986489 52.986489 0 0 0 15.619948 37.713206l415.998602 415.998603a53.333154 53.333154 0 0 0 75.426413 0l26.286579-26.293245 26.286578 26.293245a53.426487 53.426487 0 0 0 16.719944 11.333295 21.333262 21.333262 0 0 0 36.079879 11.293295l382.705381-382.705381a53.399821 53.399821 0 0 0 0-75.426413z m-762.070774-491.998347C241.494342 50.373164 250.667645 42.666523 256.00096 42.666523c5.99998 0 16.573278 9.639968 25.646581 30.806564 6.493312 15.159949 11.333295 33.999886 14.146619 54.526483H216.16776c3.206656-23.419921 9.013303-44.359851 16.88661-60.41313z m243.819181 897.330319a10.666631 10.666631 0 0 1-15.079949 0l-415.998603-415.998603A10.573298 10.573298 0 0 1 42.668343 541.411515V181.332724a10.666631 10.666631 0 0 1 10.666631-10.666631h245.332509c0 47.853173-10.373298 92.15969-27.066575 115.632945-5.926647 8.326639-16.566611 14.186619-22.306592 16.113279C204.041135 314.752276 170.667913 356.218803 170.667913 405.331972c0 58.813136 47.853173 106.666308 106.666309 106.666308s106.666308-47.853173 106.666308-106.666308c0-47.086508-30.666564-87.139707-73.079754-101.246327C330.060711 272.705751 341.334007 223.692582 341.334007 170.666093h72.079758a10.573298 10.573298 0 0 1 7.539974 3.126656l415.998603 415.998603a10.666631 10.666631 0 0 1 0 15.079949zM341.334007 405.331972a63.999785 63.999785 0 1 1-63.999785-63.999785 64.073118 64.073118 0 0 1 63.999785 63.999785z m263.539114 559.61812a10.666631 10.666631 0 0 1-15.079949 0L563.499927 938.663513l303.625647-303.61898a53.399821 53.399821 0 0 0 0-75.426413L478.16688 170.666093h63.246455a10.573298 10.573298 0 0 1 7.539974 3.126656l415.998603 415.998603c0.239999 0.239999 0.466665 0.486665 0.666664 0.746664l0.086667 0.106666a10.666631 10.666631 0 0 1 0 13.373289l-0.086667 0.106666c-0.213333 0.259999-0.439999 0.506665-0.666664 0.746664z"
              fill="#5C5C66"
              p-id="1929"
            ></path>
          </svg>
          <span class="menu-title">标签</span>
        </template>
        <el-menu-item-group>
          <el-menu-item
            :index="`/category/${item.lId}`"
            style="padding-left: 40px; color: #787878"
            v-for="item in labels"
            :key="item.lId"
          >
            <svg
              t="1645610415842"
              class="aside_icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="8429"
            >
              <path
                d="M554.666667 968.08a52.986667 52.986667 0 0 1-37.713334-15.62l-416-416A52.986667 52.986667 0 0 1 85.333333 498.746667V138.666667a53.393333 53.393333 0 0 1 53.333334-53.333334h360.08a52.986667 52.986667 0 0 1 37.713333 15.62l416 416a53.4 53.4 0 0 1 0 75.426667l-360.08 360.08a52.986667 52.986667 0 0 1-37.713333 15.62zM138.666667 128a10.666667 10.666667 0 0 0-10.666667 10.666667v360.08a10.573333 10.573333 0 0 0 3.126667 7.54l416 416a10.666667 10.666667 0 0 0 15.08 0l360.08-360.08a10.666667 10.666667 0 0 0 0-15.08l-416-416a10.573333 10.573333 0 0 0-7.54-3.126667z m224 341.333333c-58.813333 0-106.666667-47.853333-106.666667-106.666666s47.853333-106.666667 106.666667-106.666667 106.666667 47.853333 106.666666 106.666667-47.853333 106.666667-106.666666 106.666666z m0-170.666666a64 64 0 1 0 64 64 64.073333 64.073333 0 0 0-64-64z"
                fill="#5C5C66"
                p-id="8430"
              ></path>
            </svg>
            {{ item.lName }}
          </el-menu-item>
        </el-menu-item-group>
      </el-sub-menu>
    </el-menu>
  </div>
</template>

<script>
import { ref } from "vue";
import { House, Guide, VideoPlay } from "@element-plus/icons-vue";
import { getLabel } from "../../api/app";

export default {
  name: "Aside",
  components: {
    House,
    Guide,
    VideoPlay,
  },

  setup() {
    const { labels } = useAppLabel();

    return { labels };
  },
};

function useAppLabel() {
  //用于获取所有标签
  const labels = ref();

  //获取请求的标签数据
  const getData = () => {
    getLabel().then((data) => {
      labels.value = data.result;
    });
  };

  getData();

  return { labels };
}
</script>

<style scoped>
.logo {
  display: block;
  height: 9rem;
  line-height: 100px;
  font-size: 20px;
  padding: 20px 0;
  background-color: #fff;
}

.menu-title {
  display: inline-block;
  vertical-align: -3%;
  margin: 0 10px;
}

.aside_menu {
  width: 100%;
  height: 36.1rem;
  overflow-y: scroll;
}

.el-menu-vertical {
  width: 100%;
  min-height: auto;
}

.aside_icon {
  width: 20px;
  height: 20px;
  margin: 10px;
}
</style>
